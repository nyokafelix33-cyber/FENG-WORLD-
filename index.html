                                                                                                                                                                                                                       <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>StreamX Pro</title>
    <style>
        :root { --accent: #e50914; --bg: #000; --surf: #121212; --text: #fff; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 80px; }
        
        /* Fixed Video Player at Top */
        .player-wrapper { position: sticky; top: 0; width: 100%; aspect-ratio: 16/9; background: #000; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        video { width: 100%; height: 100%; border: none; }

        /* Navigation Tabs */
        .page { display: none; padding: 15px; }
        .page.active { display: block; }
        
        /* OnStream Style Grid */
        .section-header { font-size: 18px; font-weight: bold; margin: 15px 0 10px; border-left: 4px solid var(--accent); padding-left: 10px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .card { background: var(--surf); border-radius: 4px; overflow: hidden; position: relative; aspect-ratio: 2/3; border: 1px solid #222; }
        .card img { width: 100%; height: 100%; object-fit: cover; }
        .card-name { position: absolute; bottom: 0; width: 100%; background: rgba(0,0,0,0.8); font-size: 10px; padding: 5px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* Admin/Add Panel */
        #admin { display: none; position: fixed; bottom: 70px; width: 100%; background: var(--surf); padding: 20px; box-sizing: border-box; border-top: 2px solid var(--accent); z-index: 1100; border-radius: 15px 15px 0 0; }
        input { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #333; background: #000; color: #fff; box-sizing: border-box; }
        .btn-add { width: 100%; padding: 12px; background: var(--accent); color: #fff; border: none; border-radius: 5px; font-weight: bold; }

        /* Bottom Nav */
        nav { position: fixed; bottom: 0; width: 100%; height: 65px; background: #0a0a0a; display: flex; border-top: 1px solid #222; z-index: 1001; }
        .nav-link { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #666; font-size: 11px; text-decoration: none; }
        .nav-link.active { color: var(--accent); }
    </style>
</head>
<body>

    <div class="player-wrapper">
        <video id="p" controls playsinline poster="https://via.placeholder.com/800x450/000/fff?text=StreamX+Pro">
            <source id="vSource" src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        </video>
    </div>

    <div id="home" class="page active">
        <div class="section-header">Now Playing</div>
        <div class="grid" id="mainGrid">
            <div class="card" onclick="play('https://www.w3schools.com/html/mov_bbb.mp4', 'Big Buck Bunny')">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c5/Big_Buck_Bunny_Main_Characters.jpg">
                <div class="card-name">Big Buck Bunny</div>
            </div>
            </div>
    </div>

    <div id="series" class="page">
        <div class="section-header">TV Series</div>
        <div class="grid" id="seriesGrid">
            <div class="card"><div class="card-name">Series Coming Soon</div></div>
        </div>
    </div>

    <div id="admin">
        <h3 style="margin:0 0 10px">Admin: Add Movie</h3>
        <input type="text" id="tInput" placeholder="Movie Title">
        <input type="text" id="lInput" placeholder="MP4 Direct Link">
        <input type="text" id="iInput" placeholder="Poster Image Link (Optional)">
        <button class="btn-add" onclick="save()">PUBLISH TO APP</button>
        <button onclick="hideAdmin()" style="width:100%; background:none; border:none; color:#555; margin-top:10px;">Cancel</button>
    </div>

    <nav>
        <div class="nav-link active" onclick="tab('home', this)"><span>üè†</span>Home</div>
        <div class="nav-link" onclick="tab('series', this)"><span>üì∫</span>Series</div>
        <div class="nav-link" onclick="showAdmin()"><span>‚ûï</span>Add</div>
    </nav>

    <script>
        // Data storage
        let lib = JSON.parse(localStorage.getItem('sx_lib')) || [];
        const player = document.getElementById('p');

        function tab(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        function showAdmin() {
            if(prompt("Admin PIN:") === "1234") document.getElementById('admin').style.display='block';
        }
        function hideAdmin() { document.getElementById('admin').style.display='none'; }

        function save() {
            let t = document.getElementById('tInput').value;
            let l = document.getElementById('lInput').value;
            let i = document.getElementById('iInput').value || 'https://via.placeholder.com/200x300/121212/fff?text=No+Poster';
            if(t && l) {
                lib.push({t, l, i});
                localStorage.setItem('sx_lib', JSON.stringify(lib));
                render();
                hideAdmin();
            }
        }

        function render() {
            const grid = document.getElementById('mainGrid');
            // Keep the default example and add user movies
            let html = `
                <div class="card" onclick="play('https://www.w3schools.com/html/mov_bbb.mp4', 'Sample Movie')">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c5/Big_Buck_Bunny_Main_Characters.jpg">
                    <div class="card-name">Example Movie</div>
                </div>`;
            
            lib.forEach(m => {
                html += `
                <div class="card" onclick="play('${m.l}', '${m.t}')">
                    <img src="${m.i}">
                    <div class="card-name">${m.t}</div>
                </div>`;
            });
            grid.innerHTML = html;
        }

        function play(url, title) {
            player.src = url;
            player.play();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        render();
    </script>
</body>
</html>
                                                                                                                                                                                                                                                                                                                      v.currentTime = time;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                v.play();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            showToast(isDataSaver ? "Data Saver Active" : "High Quality Active");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            function shareLink() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const t = Math.floor(v.currentTime);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const url = window.location.origin + window.location.pathname + "?t=" + t;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                navigator.clipboard.writeText(url);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            showToast("Shared at " + t + "s");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if(navigator.vibrate) navigator.vibrate(40);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function setSleep() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const m = prompt("Minutes until sleep?", "30");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if(m) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                showToast("Timer set for " + m + "m");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                setTimeout(() => { v.pause(); alert("Sleep timer: Paused."); }, m * 60000);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            function startVoice() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if(!Rec) return alert("Voice not supported");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const recognition = new Rec();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            recognition.onstart = () => showToast("Listening...");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        recognition.onresult = (e) => showToast("Heard: " + e.results[0][0].transcript);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    recognition.start();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    async function togglePiP() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                try {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // --- SYSTEM MONITORS ---
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            setInterval(() => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if(document.getElementById('statsBox').style.display === 'block') {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const q = v.getVideoPlaybackQuality();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById('fps').innerText = q.totalVideoFrames;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if(performance.memory) document.getElementById('mem').innerText = Math.round(performance.memory.usedJSHeapSize/1048576) + 'MB';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }, 1000);

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    window.addEventListener('online', () => document.getElementById('offlineBanner').style.display = 'none');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            window.addEventListener('offline', () => document.getElementById('offlineBanner').style.display = 'block');

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    function showToast(m) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const t = document.getElementById('toast');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            t.innerText = m; t.style.display = 'block';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        setTimeout(() => t.style.display = 'none', 2500);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // Init
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                window.onload = () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const p = new URLSearchParams(window.location.search);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if(p.get('t')) v.currentTime = p.get('t');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if(localStorage.getItem('theme')) document
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
