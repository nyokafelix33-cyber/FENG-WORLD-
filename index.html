<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FENG WORLD Vision 1.0</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
--bg:#0b0e14;
--card:#1c1f26;
--primary:#d3f243;
--text:#fff;
--radius:14px;
}
body{margin:0;background:var(--bg);color:var(--text);font-family:Arial}
header{padding:15px;background:#000;position:sticky;top:0;z-index:10;border-bottom:2px solid var(--primary)}
.logo{font-size:22px;font-weight:900}
.logo span{color:var(--primary)}
.search-box{background:#111;padding:10px;border-radius:12px;display:flex;gap:10px;margin-top:10px}
.search-box input{flex:1;background:none;border:none;color:white;outline:none}
.slider{height:45vh;position:relative;overflow:hidden}
.slide{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:1s}
.slide.active{opacity:1}
.slide::after{content:"";position:absolute;inset:0;background:linear-gradient(to top,#0b0e14,transparent)}
.slide-info{position:absolute;bottom:20px;left:5%}
.slide-info h2{margin:0;font-size:28px}
.row{display:flex;gap:10px;overflow-x:auto;padding:10px 5%}
.row::-webkit-scrollbar{display:none}
.item{min-width:130px;background:var(--card);border-radius:14px;overflow:hidden;cursor:pointer}
.item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.item div{padding:5px;font-size:11px;font-weight:bold}
.title{padding:10px 5%;font-weight:900;color:var(--primary)}
.drawer{position:fixed;inset:0;background:#000;display:none;flex-direction:column;z-index:100}
.drawer img{width:100%;height:35vh;object-fit:cover}
.drawer-content{padding:15px}
.btn{padding:10px 15px;border:none;border-radius:8px;font-weight:bold}
.btn-play{background:var(--primary);color:#000}
.btn-close{background:red;color:white}
footer{position:fixed;bottom:0;width:100%;background:#000;padding:10px;display:flex;border-top:1px solid #222}
.tab{flex:1;text-align:center;color:#555}
.tab.active{color:var(--primary)}
video{width:100%;height:100%;background:#000}
</style>
</head>

<body onload="FENG.init()">

<header>
<div class="logo">FE<span>NG</span> WORLD</div>
<div class="search-box">
<i class="fa fa-search"></i>
<input id="search" placeholder="Search movies or series..." onkeyup="FENG.search(this.value)">
</div>
</header>

<div class="slider" id="slider"></div>

<div class="title">Trending Movies</div>
<div class="row" id="movies"></div>

<div class="title">Popular Series</div>
<div class="row" id="series"></div>

<!-- INFO DRAWER -->
<div class="drawer" id="info">
<img id="info-bg">
<div class="drawer-content">
<h2 id="info-title"></h2>
<p id="info-meta"></p>
<p id="info-genres"></p>
<button class="btn btn-play" onclick="FENG.play()">▶ Watch</button>
<button class="btn" onclick="FENG.download()">⬇ Download</button>
<button class="btn btn-close" onclick="FENG.close()">Close</button>
<div id="episodes"></div>
</div>
</div>

<!-- PLAYER -->
<div class="drawer" id="player">
<div style="padding:10px;background:#000;display:flex;justify-content:space-between">
<b id="now"></b>
<button class="btn btn-close" onclick="FENG.stop()">Exit</button>
</div>
<video id="video" controls></video>
</div>

<footer>
<div class="tab active">Home</div>
</footer>

<script>
const KEY="ea593c3fa4d4942ece315977cd7e32c9";
let current=null,slides=0;

const FENG={
init(){
this.hero();
this.load("movie/popular","movies");
this.load("tv/top_rated","series");
},

async hero(){
let r=await fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`);
let d=await r.json();
let s=document.getElementById("slider");
d.results.slice(0,5).forEach((x,i)=>{
s.innerHTML+=`
<div class="slide ${i==0?"active":""}" style="background-image:url(https://image.tmdb.org/t/p/original${x.backdrop_path})">
<div class="slide-info">
<h2>${x.title||x.name}</h2>
</div></div>`;
});
setInterval(()=>{
let all=document.querySelectorAll(".slide");
all.forEach(x=>x.classList.remove("active"));
slides=(slides+1)%all.length;
all[slides].classList.add("active");
},4000);
},

async load(path,id){
let r=await fetch(`https://api.themoviedb.org/3/${path}?api_key=${KEY}`);
let d=await r.json();
let c=document.getElementById(id);
c.innerHTML="";
d.results.forEach(x=>{
let t=x.title||x.name;
let type=x.name?"tv":"movie";
c.innerHTML+=`
<div class="item" onclick="FENG.open('${type}',${x.id})">
<img src="https://image.tmdb.org/t/p/w500${x.poster_path}">
<div>${t}</div>
</div>`;
});
},

async open(type,id){
current={type,id};
let r=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${KEY}`);
let d=await r.json();
document.getElementById("info").style.display="flex";
document.getElementById("info-bg").src=`https://image.tmdb.org/t/p/original${d.backdrop_path}`;
document.getElementById("info-title").innerText=d.title||d.name;
document.getElementById("info-meta").innerText=`⭐ ${d.vote_average} • ${d.release_date||d.first_air_date}`;
document.getElementById("info-genres").innerText="Genres: "+d.genres.map(g=>g.name).join(", ");

let epBox=document.getElementById("episodes");
epBox.innerHTML="";
if(type=="tv"){
for(let s of d.seasons){
epBox.innerHTML+=`<h4>Season ${s.season_number}</h4>`;
for(let i=1;i<=s.episode_count;i++){
epBox.innerHTML+=`<button class="btn" onclick="FENG.playTV(${s.season_number},${i})">E${i}</button>`;
}
}
}
},

close(){document.getElementById("info").style.display="none";},

play(){
document.getElementById("player").style.display="flex";
document.getElementById("now").innerText="Playing...";
let v=document.getElementById("video");

// YOUR OWN MOVIE FILE SYSTEM
v.src=`movies/${current.id}.mp4`;
v.play();
},

playTV(s,e){
document.getElementById("player").style.display="flex";
document.getElementById("now").innerText=`S${s}E${e}`;
let v=document.getElementById("video");
v.src=`series/${current.id}/s${s}e${e}.mp4`;
v.play();
},

stop(){
document.getElementById("player").style.display="none";
document.getElementById("video").src="";
},

download(){
alert("Put your own download link system later.");
},

async search(q){
if(q.length<3)return;
let r=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${KEY}&query=${q}`);
let d=await r.json();
let c=document.getElementById("movies");
c.innerHTML="";
d.results.forEach(x=>{
if(!x.poster_path)return;
let t=x.title||x.name;
let type=x.name?"tv":"movie";
c.innerHTML+=`
<div class="item" onclick="FENG.open('${type}',${x.id})">
<img src="https://image.tmdb.org/t/p/w500${x.poster_path}">
<div>${t}</div>
</div>`;
});
}
};
</script>
</body>
</html>
