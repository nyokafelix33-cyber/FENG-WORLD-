<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FENG WORLD Vision 13</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root{
--primary:#d3f243;
--bg:#0b0e14;
--card:#1c1f26;
--text:#ffffff;
--radius:12px;
}

/* RESET */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial;background:var(--bg);color:var(--text);overflow-x:hidden}

/* SPLASH */
#splash{
position:fixed;inset:0;background:#000;z-index:9999;
display:flex;justify-content:center;align-items:center;
font-size:30px;font-weight:900;color:white;
animation:fade 3s forwards;
}
@keyframes fade{to{opacity:0;visibility:hidden}}

/* LOADER */
#loader{
position:fixed;inset:0;background:#000a;z-index:8000;
display:none;align-items:center;justify-content:center;font-size:20px;
}

/* HEADER */
header{
padding:12px 5%;
background:#000;
border-bottom:2px solid var(--primary);
position:sticky;top:0;z-index:1000;
}
.logo{font-size:22px;font-weight:900}
.logo span{color:var(--primary)}
.search-box{
display:flex;gap:10px;
background:#111;padding:10px;border-radius:10px;margin-top:10px;
}
.search-box input{
flex:1;background:none;border:none;color:white;font-size:14px;outline:none;
}

/* GENRES */
#genre-filters{
display:flex;overflow-x:auto;gap:8px;padding:10px 0;
}
.genre-pill{
padding:6px 14px;background:#222;border-radius:20px;
font-size:12px;font-weight:800;cursor:pointer;white-space:nowrap;
}
.genre-pill.active{background:var(--primary);color:#000}

/* SECTIONS */
.section-title{
padding:10px 5%;font-weight:900;color:var(--primary);
border-top:1px solid #222;margin-top:10px;
}

/* ROW SCROLL */
.row{
display:flex;overflow-x:auto;gap:12px;padding:10px 5%;
}
.row::-webkit-scrollbar{display:none}
.item{
min-width:130px;background:var(--card);border-radius:12px;
overflow:hidden;cursor:pointer;
}
.item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.item-meta{padding:6px;font-size:11px;font-weight:900}

/* GRID MODE */
.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(130px,1fr));
gap:12px;padding:10px 5%;
border-top:2px solid #222;
}
.grid-item{
background:var(--card);border-radius:12px;overflow:hidden;
cursor:pointer;transition:.2s;
}
.grid-item:hover{transform:scale(1.05)}
.grid-item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.grid-meta{padding:6px;font-size:11px;font-weight:900}

/* DRAWERS */
.drawer{
position:fixed;inset:0;background:#000;z-index:5000;
display:none;flex-direction:column;overflow-y:auto;
}
.drawer-head{
padding:15px;border-bottom:1px solid #222;
display:flex;justify-content:space-between;align-items:center;
}

/* INFO */
#info-backdrop{
height:200px;background-size:cover;background-position:center;
}
.btn{
padding:10px;width:100%;margin-top:10px;
background:var(--primary);border:none;border-radius:8px;
font-weight:900;cursor:pointer;
}

/* PLAYER */
#video-frame{
width:100%;height:90%;border:none;background:black;
}

/* FOOTER */
footer{
position:fixed;bottom:0;width:100%;background:#000;
display:flex;border-top:1px solid #222;padding:10px 0;
}
.tab{
flex:1;text-align:center;color:#555;font-size:12px;cursor:pointer;
}
.tab.active{color:var(--primary)}
.tab i{font-size:20px;display:block}

/* SETTINGS PANEL */
.setting-box{
padding:15px;border-bottom:1px solid #222;
font-size:14px;
}
</style>
</head>

<body onload="FENG.boot()">

<!-- SPLASH -->
<div id="splash">üî• Welcome to FENG WORLD Vision 13</div>

<!-- LOADER -->
<div id="loader">‚è≥ Loading...</div>

<header>
<div class="logo">FE<span>NG</span> WORLD</div>

<div class="search-box">
<i class="fas fa-search" style="color:var(--primary)"></i>
<input id="searchInput" placeholder="Search movies or series..." onkeyup="FENG.search(this.value)">
</div>

<div id="genre-filters"></div>
</header>

<!-- HOME -->
<main id="pane-home">

<div class="section-title">Trending Movies</div>
<div class="row" id="row-movies"></div>

<div class="section-title">Popular Series</div>
<div class="row" id="row-series"></div>

<div class="section-title">üé¨ Movies Grid</div>
<div class="grid" id="grid-movies"></div>

<div class="section-title">üì∫ Series Grid</div>
<div class="grid" id="grid-series"></div>

</main>

<!-- INFO PANEL -->
<div class="drawer" id="pane-info">
<div class="drawer-head">
<h2 id="info-title"></h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>
<div id="info-backdrop"></div>
<div style="padding:15px" id="info-content"></div>
</div>

<!-- PLAYER -->
<div class="drawer" id="pane-player">
<div class="drawer-head">
<span id="now-playing">Playing...</span>
<button onclick="FENG.stopPlayer()" style="background:red;color:white;padding:8px;border:none;border-radius:6px;">EXIT</button>
</div>
<iframe id="video-frame" allowfullscreen></iframe>
</div>

<!-- SETTINGS -->
<div class="drawer" id="pane-settings">
<div class="drawer-head">
<h2>Settings</h2>
<i class="fas fa-times fa-2x" onclick="FENG.hideDrawers()"></i>
</div>

<div class="setting-box">üåç App Name: <b>FENG WORLD</b></div>
<div class="setting-box">üöÄ Version: <b>13</b></div>
<div class="setting-box">üé• Player: vidsrc.to</div>
<div class="setting-box">üë®‚Äçüíª Developer: Feng World Group</div>
<div class="setting-box">üìß Support: felixnyoka19@gmail.com</div>
<div class="setting-box">‚Ñπ About: Streaming movies & series platform</div>

</div>

<!-- FOOTER -->
<footer>
<div class="tab active" onclick="FENG.view('home',this)"><i class="fas fa-home"></i>Home</div>
<div class="tab" onclick="FENG.loadType('movie',this)"><i class="fas fa-film"></i>Movies</div>
<div class="tab" onclick="FENG.loadType('tv',this)"><i class="fas fa-tv"></i>Series</div>
<div class="tab" onclick="FENG.view('settings',this)"><i class="fas fa-cog"></i>Settings</div>
</footer>

<script>
const KEY="ea593c3fa4d4942ece315977cd7e32c9";

/* CORE ENGINE */
const FENG={
boot: async function(){
this.showLoader(true);
await this.loadGenres();
await this.loadMovies();
await this.loadSeries();
this.showLoader(false);
},

showLoader:function(state){
document.getElementById("loader").style.display=state?"flex":"none";
},

/* GENRES */
loadGenres: async function(){
try{
const r=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY}`);
const d=await r.json();
const box=document.getElementById("genre-filters");
box.innerHTML="";
d.genres.forEach(g=>{
let div=document.createElement("div");
div.className="genre-pill";
div.innerText=g.name;
div.onclick=()=>this.filterGenre(g.id);
box.appendChild(div);
});
}catch(e){console.log("Genre error",e);}
},

filterGenre: async function(id){
this.showLoader(true);
await this.loadCustom(`discover/movie?with_genres=${id}`,"grid-movies");
await this.loadCustom(`discover/tv?with_genres=${id}`,"grid-series");
this.showLoader(false);
},

/* LOAD MOVIES */
loadMovies: async function(){
this.loadCustom("movie/popular","row-movies");
this.loadCustom("movie/popular","grid-movies");
},

/* LOAD SERIES */
loadSeries: async function(){
this.loadCustom("tv/top_rated","row-series");
this.loadCustom("tv/top_rated","grid-series");
},

/* GENERIC LOADER */
loadCustom: async function(path,id){
try{
const r=await fetch(`https://api.themoviedb.org/3/${path}?api_key=${KEY}`);
const d=await r.json();
const box=document.getElementById(id);
box.innerHTML="";
d.results.forEach(item=>{
if(!item.poster_path)return;
let type=item.name?"tv":"movie";
let title=item.title||item.name;
let html=`
<div class="${id.includes('grid')?'grid-item':'item'}" onclick="FENG.openInfo('${type}',${item.id})">
<img src="https://image.tmdb.org/t/p/w500${item.poster_path}">
<div class="${id.includes('grid')?'grid-meta':'item-meta'}">${title}</div>
</div>`;
box.innerHTML+=html;
});
}catch(e){console.log("Load error",e);}
},

/* SEARCH */
search: async function(q){
if(q.length<2) return;
this.showLoader(true);
try{
const r=await fetch(`https://api.themoviedb.org/3/search/multi?query=${q}&api_key=${KEY}`);
const d=await r.json();
document.getElementById("grid-movies").innerHTML="";
document.getElementById("grid-series").innerHTML="";
d.results.forEach(item=>{
if(!item.poster_path)return;
let type=item.media_type;
if(type!=="movie" && type!=="tv") return;
let title=item.title||item.name;
let target=type==="movie"?"grid-movies":"grid-series";
document.getElementById(target).innerHTML+=`
<div class="grid-item" onclick="FENG.openInfo('${type}',${item.id})">
<img src="https://image.tmdb.org/t/p/w500${item.poster_path}">
<div class="grid-meta">${title}</div>
</div>`;
});
}catch(e){console.log("Search error",e);}
this.showLoader(false);
},

/* INFO */
openInfo: async function(type,id){
this.hideDrawers();
document.getElementById("pane-info").style.display="flex";
const r=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${KEY}`);
const d=await r.json();
document.getElementById("info-title").innerText=d.title||d.name;
document.getElementById("info-backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${d.backdrop_path})`;
document.getElementById("info-content").innerHTML=`
<p>${d.overview}</p>
<button class="btn" onclick="FENG.play('${type}','${id}','${d.title||d.name}')">WATCH NOW</button>
`;
},

/* PLAYER */
play:function(type,id,title){
this.hideDrawers();
document.getElementById("now-playing").innerText=title;
document.getElementById("video-frame").src=`https://vidsrc.to/embed/${type}/${id}`;
document.getElementById("pane-player").style.display="flex";
},

stopPlayer:function(){
this.hideDrawers();
document.getElementById("video-frame").src="";
},

/* UI */
view:function(pane,tab){
this.hideDrawers();
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
if(tab) tab.classList.add("active");
if(pane!=="home") document.getElementById("pane-"+pane).style.display="flex";
},

hideDrawers:function(){
document.querySelectorAll(".drawer").forEach(d=>d.style.display="none");
}
};

/* SPLASH */
setTimeout(()=>document.getElementById("splash").style.display="none",3000);
</script>

</body>
</html>
