<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FENG WORLD ULTRA</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root{
--primary:#d3f243;
--bg:#0b0e14;
--card:#1c1f26;
--text:#fff;
--radius:16px;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:var(--bg);color:var(--text);overflow-x:hidden}

/* HEADER */
header{
position:sticky;top:0;z-index:1000;
padding:12px;background:#000;
border-bottom:1px solid #222;
display:flex;justify-content:space-between;align-items:center;
}
.logo{font-size:22px;font-weight:bold}
.logo span{color:var(--primary)}
#searchBox{
padding:8px 12px;border-radius:20px;border:none;
background:#222;color:#fff;width:180px;
}

/* BANNER */
#welcomeBanner{
padding:20px;text-align:center;
font-size:22px;font-weight:bold;
background:linear-gradient(90deg,#d3f243,#00ffaa);
color:#000;
}

/* HERO SLIDER */
#hero-slider{height:45vh;position:relative;overflow:hidden}
.slide{
position:absolute;inset:0;
background-size:cover;background-position:center;
opacity:0;transition:1s;
display:flex;align-items:flex-end;padding:20px;
}
.slide.active{opacity:1}
.slide::after{
content:"";position:absolute;inset:0;
background:linear-gradient(to top,#000 20%,transparent);
}
.slide h2{z-index:2}

/* ROWS */
.shelf-title{padding:10px;font-weight:bold;color:var(--primary)}
.row{display:flex;overflow-x:auto;gap:12px;padding:10px}
.item{
min-width:140px;background:var(--card);
border-radius:12px;overflow:hidden;position:relative;
}
.item img{width:100%;aspect-ratio:2/3;object-fit:cover}
.item-meta{padding:8px;font-size:12px}

/* BADGES */
.badge{
position:absolute;top:5px;left:5px;
padding:4px 6px;border-radius:5px;font-size:10px;font-weight:bold
}
.hd{background:#00ffaa;color:#000}
.cam{background:#ff4757;color:#fff}

/* INFO DRAWER */
#infoBox{
position:fixed;inset:0;background:#000;
z-index:9999;display:none;flex-direction:column;overflow:auto
}
#infoBackdrop{height:220px;background-size:cover;background-position:center}
#infoContent{padding:15px}
#infoCast{display:flex;gap:10px;overflow-x:auto;margin-top:10px}
.castCard{
min-width:100px;background:#111;border-radius:10px;
overflow:hidden;font-size:12px;text-align:center
}
.castCard img{width:100%;height:130px;object-fit:cover}

/* PLAYER */
#playerBox{
position:fixed;inset:0;background:#000;
display:none;z-index:9999
}
#playerBox iframe{width:100%;height:90vh;border:none}

/* GENRES */
#genres{display:flex;gap:10px;overflow-x:auto;padding:10px}
.genreBtn{
padding:8px 15px;background:#222;border-radius:20px;
font-size:13px;white-space:nowrap
}

/* FOOTER */
footer{
position:fixed;bottom:0;width:100%;
background:#000;border-top:1px solid #222;
display:flex;padding:10px
}
.tab{flex:1;text-align:center;font-size:12px;color:#555}
.tab.active{color:var(--primary)}
</style>
</head>

<body>

<header>
<div class="logo">FE<span>NG</span> WORLD</div>
<input id="searchBox" placeholder="Search movies or series...">
</header>

<div id="welcomeBanner">ðŸ”¥ WELCOME TO FENG WORLD ðŸ”¥</div>

<div id="hero-slider"></div>

<div class="shelf-title">Genres</div>
<div id="genres"></div>

<div class="shelf-title">Trending Movies</div>
<div class="row" id="movieRow"></div>

<div class="shelf-title">Popular Series</div>
<div class="row" id="tvRow"></div>

<!-- INFO BOX -->
<div id="infoBox">
<div id="infoBackdrop"></div>
<div id="infoContent">
<h2 id="infoTitle"></h2>
<p id="infoOverview"></p>
<h3>Cast & Actors</h3>
<div id="infoCast"></div>
<button onclick="closeInfo()">CLOSE</button>
<button id="watchBtn">WATCH NOW</button>
</div>
</div>

<!-- PLAYER -->
<div id="playerBox">
<button onclick="closePlayer()" style="padding:10px;background:red;color:white;border:none">EXIT</button>
<iframe id="playerFrame"></iframe>
</div>

<footer>
<div class="tab active">Home</div>
<div class="tab">Movies</div>
<div class="tab">Series</div>
</footer>

<script>
const API_KEY="ea593c3fa4d4942ece315977cd7e32c9";
const IMG="https://image.tmdb.org/t/p/w500";

let slideIndex=0;

// HERO SLIDER
async function loadHero(){
const res=await fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`);
const data=await res.json();
const slider=document.getElementById("hero-slider");
slider.innerHTML="";
data.results.slice(0,5).forEach((m,i)=>{
slider.innerHTML+=`
<div class="slide ${i==0?'active':''}" style="background-image:url(${IMG+m.backdrop_path})">
<h2>${m.title||m.name}</h2>
</div>`;
});
setInterval(()=>{
const slides=document.querySelectorAll(".slide");
slides[slideIndex].classList.remove("active");
slideIndex=(slideIndex+1)%slides.length;
slides[slideIndex].classList.add("active");
},4000);
}

// LOAD MOVIES
async function loadMovies(){
const res=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}`);
const data=await res.json();
showGrid("movieRow",data.results,"movie");
}

// LOAD SERIES
async function loadTV(){
const res=await fetch(`https://api.themoviedb.org/3/trending/tv/week?api_key=${API_KEY}`);
const data=await res.json();
showGrid("tvRow",data.results,"tv");
}

// SHOW GRID
function showGrid(id,list,type){
const row=document.getElementById(id);
row.innerHTML="";
list.forEach(m=>{
if(!m.poster_path)return;
const year=new Date(m.release_date||m.first_air_date||"2024").getFullYear();
const isCam=(type==="movie" && year>=new Date().getFullYear());
row.innerHTML+=`
<div class="item" onclick="openInfo('${type}',${m.id})">
<div class="badge ${isCam?'cam':'hd'}">${isCam?'CAM':'HD'}</div>
<img src="${IMG+m.poster_path}">
<div class="item-meta">${m.title||m.name}<br>${year}</div>
</div>`;
});
}

// GENRES
const genreList=[
{id:28,n:"Action"},{id:35,n:"Comedy"},{id:27,n:"Horror"},
{id:18,n:"Drama"},{id:878,n:"Sci-Fi"},{id:16,n:"Animation"}
];
const genreDiv=document.getElementById("genres");
genreList.forEach(g=>{
genreDiv.innerHTML+=`<div class="genreBtn" onclick="loadGenre(${g.id})">${g.n}</div>`;
});

async function loadGenre(id){
const res=await fetch(`https://api.themoviedb.org/3/discover/movie?with_genres=${id}&api_key=${API_KEY}`);
const data=await res.json();
showGrid("movieRow",data.results,"movie");
}

// INFO + CAST
async function openInfo(type,id){
document.getElementById("infoBox").style.display="flex";

const res=await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${API_KEY}`);
const d=await res.json();

document.getElementById("infoTitle").innerText=d.title||d.name;
document.getElementById("infoOverview").innerText=d.overview;
document.getElementById("infoBackdrop").style.backgroundImage=`url(${IMG+d.backdrop_path})`;

document.getElementById("watchBtn").onclick=()=>play(type,id);

// CAST
const cRes=await fetch(`https://api.themoviedb.org/3/${type}/${id}/credits?api_key=${API_KEY}`);
const cData=await cRes.json();
const castDiv=document.getElementById("infoCast");
castDiv.innerHTML="";
cData.cast.slice(0,10).forEach(c=>{
if(!c.profile_path)return;
castDiv.innerHTML+=`
<div class="castCard">
<img src="${IMG+c.profile_path}">
<div>${c.name}<br><small>${c.character}</small></div>
</div>`;
});
}

function closeInfo(){document.getElementById("infoBox").style.display="none"}

// PLAYER (AUTO STREAM)
function play(type,id){
closeInfo();
document.getElementById("playerBox").style.display="block";
document.getElementById("playerFrame").src=`https://vidsrc.to/embed/${type}/${id}`;
}

function closePlayer(){
document.getElementById("playerBox").style.display="none";
document.getElementById("playerFrame").src="";
}

// SEARCH
document.getElementById("searchBox").addEventListener("keyup",async e=>{
if(e.key==="Enter"){
const q=e.target.value;
const res=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&query=${q}`);
const data=await res.json();
showGrid("movieRow",data.results.filter(x=>x.media_type==="movie"),"movie");
showGrid("tvRow",data.results.filter(x=>x.media_type==="tv"),"tv");
}
});

// BOOT
loadHero();
loadMovies();
loadTV();
</script>

</body>
</html>
