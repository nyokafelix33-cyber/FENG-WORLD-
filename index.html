<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Feng | The World Tool</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* SECTION 1: CORE CSS VARIABLES & DESIGN SYSTEM 
           This section handles the visual identity. 
        */
        :root {
            --main-brand: #d3f243;
            --background-deep: #0b0e14;
            --card-surface: #1c1f26;
            --text-primary: #eeeeee;
            --text-secondary: #a0a0a0;
            --header-bg: #000000;
            --whatsapp-green: #25d366;
            --instagram-pink: #e1306c;
            --danger-red: #ff4444;
            --border-subtle: rgba(255, 255, 255, 0.08);
            --shadow-standard: 0 12px 40px rgba(0,0,0,0.6);
            --safe-area-bottom: 80px;
        }

        [data-theme="light"] {
            --background-deep: #f0f2f5;
            --card-surface: #ffffff;
            --text-primary: #121212;
            --header-bg: #ffffff;
            --border-subtle: rgba(0, 0, 0, 0.1);
        }

        /* SECTION 2: RESET & GLOBAL NORMALIZATION 
        */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; -webkit-font-smoothing: antialiased; }
        html, body { height: 100%; width: 100%; margin: 0; padding: 0; }
        body { 
            background-color: var(--background-deep); 
            color: var(--text-primary); 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            overflow-x: hidden;
            transition: background-color 0.4s ease;
        }

        /* SECTION 3: HEADER & INTERFACE WRAPPERS
        */
        .app-header {
            background-color: var(--header-bg);
            padding: 18px 6%;
            position: sticky;
            top: 0;
            z-index: 9000;
            border-bottom: 3px solid var(--main-brand);
            box-shadow: var(--shadow-standard);
        }

        .header-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .app-logo { font-size: 30px; font-weight: 900; letter-spacing: -2px; text-transform: uppercase; color: var(--text-primary); }
        .app-logo span { color: var(--main-brand); }

        .search-container {
            margin-top: 15px;
            background: rgba(255,255,255,0.06);
            border: 1.5px solid var(--border-subtle);
            border-radius: 14px;
            display: flex;
            align-items: center;
            padding: 14px 20px;
            gap: 15px;
            transition: all 0.3s ease;
        }
        .search-container:focus-within { border-color: var(--main-brand); background: rgba(255,255,255,0.1); }
        .search-container input { background: transparent; border: none; color: #fff; width: 100%; font-size: 16px; font-weight: 500; }

        /* SECTION 4: DYNAMIC CONTENT LAYOUTS
        */
        .main-scroller { padding: 10px 0 var(--safe-area-bottom) 0; }
        
        .row-heading {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 6%;
            margin: 30px 0 15px 0;
        }
        .row-heading h2 { font-size: 20px; font-weight: 800; color: var(--main-brand); margin: 0; text-transform: uppercase; letter-spacing: 0.5px; }

        .horizontal-shelf {
            display: flex;
            overflow-x: auto;
            gap: 18px;
            padding: 0 6% 15px 6%;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .horizontal-shelf::-webkit-scrollbar { display: none; }

        .vertical-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(155px, 1fr));
            gap: 20px;
            padding: 0 6%;
        }

        /* SECTION 5: THE COMPONENT FACTORY (CARDS)
        */
        .media-card {
            background: var(--card-surface);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border-subtle);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        .media-card:active { transform: scale(0.94); }
        .media-card img { width: 100%; height: 230px; object-fit: cover; border-bottom: 1px solid var(--border-subtle); }
        .media-card .info-bar { padding: 14px; }
        .media-card .title-txt { font-size: 14px; font-weight: 700; color: var(--text-primary); display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .media-card .meta-txt { font-size: 11px; color: var(--main-brand); font-weight: 800; text-transform: uppercase; margin-top: 5px; opacity: 0.9; }

        /* SECTION 6: MODAL ENGINE (REPAIR FOR SETTINGS/PLAYER)
        */
        .modal-screen {
            position: fixed;
            inset: 0;
            background-color: var(--background-deep);
            z-index: 10000;
            display: none;
            flex-direction: column;
            overflow-y: auto;
            animation: slideIn 0.4s ease forwards;
        }
        @keyframes slideIn { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .modal-header {
            padding: 20px 6%;
            background: var(--header-bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-subtle);
        }

        /* SECTION 7: SETTINGS CONTENT (PROTECTED)
        */
        .settings-layout { padding: 35px 6%; }
        .menu-tile {
            background: var(--card-surface);
            padding: 22px;
            border-radius: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            border: 1.5px solid var(--border-subtle);
            transition: background 0.2s ease;
        }
        .menu-tile:active { background: rgba(255,255,255,0.05); }
        .menu-tile i { font-size: 20px; color: var(--main-brand); width: 25px; text-align: center; }
        .menu-tile span { font-weight: 600; font-size: 16px; }

        .handle-box { display: flex; gap: 15px; margin: 25px 0; }
        .handle-btn {
            flex: 1;
            padding: 20px;
            border-radius: 18px;
            text-align: center;
            font-size: 24px;
            color: #ffffff;
            text-decoration: none;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .vision-statement {
            background: linear-gradient(135deg, rgba(211,242,67,0.1), transparent);
            padding: 30px;
            border-radius: 22px;
            text-align: center;
            border: 1px solid rgba(211,242,67,0.2);
            margin-top: 40px;
        }

        /* SECTION 8: BOTTOM NAVIGATION
        */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--header-bg);
            display: flex;
            justify-content: space-around;
            padding: 15px 0 35px 0;
            border-top: 1.5px solid var(--border-subtle);
            z-index: 9500;
            backdrop-filter: blur(15px);
        }
        .nav-anchor { text-align: center; color: #5c5c5c; cursor: pointer; transition: color 0.3s ease; flex: 1; }
        .nav-anchor.active { color: var(--main-brand); }
        .nav-anchor i { font-size: 24px; margin-bottom: 6px; }
        .nav-anchor span { font-size: 11px; font-weight: 800; display: block; }

    </style>
</head>
<body id="app-body">

    <header class="app-header" id="ui-header">
        <div class="header-content">
            <div class="app-logo">FE<span>NG</span></div>
            <div class="theme-switch" onclick="FENG.toggleMode()"><i class="fas fa-moon"></i></div>
        </div>
        <div class="search-container">
            <i class="fas fa-search" style="color: var(--main-brand)"></i>
            <input type="text" id="feng-search" placeholder="Search the Master Vault..." onkeyup="FENG.searchEngine()">
        </div>
    </header>

    <main class="main-scroller" id="screen-home">
        
        <div class="row-heading"><h2>ðŸ”¥ Trending Now</h2></div>
        <div class="horizontal-shelf" id="shelf-trending"></div>

        <div class="row-heading"><h2>ðŸ“º Global TV Series</h2></div>
        <div class="vertical-grid" id="grid-series"></div>

        <div class="row-heading"><h2>ðŸŽ¬ Movie Collections</h2></div>
        <div class="vertical-grid" id="grid-movies"></div>

    </main>

    <div class="modal-screen" id="screen-settings">
        <div class="modal-header">
            <h2 style="margin:0">System Portal</h2>
            <i class="fas fa-times fa-2x" onclick="FENG.navigate('home')"></i>
        </div>
        <div class="settings-layout">
            <div class="menu-tile" onclick="alert('Issue Reporting Protocol Active: +260770605003')">
                <i class="fas fa-tools"></i> <span>Report Technical Issue</span>
            </div>
            <div class="menu-tile" onclick="alert('Feng Tool v39.0 Platinum Edition. Finalized 2026.')">
                <i class="fas fa-info-circle"></i> <span>About Platinum Update</span>
            </div>

            <div class="handle-box">
                <a href="https://wa.me/260770605003" class="handle-btn" style="background:var(--whatsapp-green)"><i class="fab fa-whatsapp"></i></a>
                <a href="https://instagram.com/felix_nyoka" target="_blank" class="handle-btn" style="background:var(--instagram-pink)"><i class="fab fa-instagram"></i></a>
            </div>

            <div class="vision-statement">
                <h3 style="color:var(--main-brand); margin-top:0;">THE VISION OF FENG</h3>
                <p style="font-size:14px; opacity:0.85; line-height:1.7;">To become the premier global hub for cinematic accessibility, bridging the gap between world-class entertainment and users in Zambia and beyond.</p>
            </div>
        </div>
    </div>

    <div class="modal-screen" id="screen-player">
        <div class="modal-header">
            <span id="video-title" style="font-weight:900; color:var(--main-brand)">Initializing...</span>
            <button onclick="FENG.stopPlayback()" style="background:var(--danger-red); color:#fff; border:none; padding:10px 20px; border-radius:12px; font-weight:bold;">CLOSE</button>
        </div>
        <iframe id="video-frame" allowfullscreen src=""></iframe>
    </div>

    <footer class="bottom-nav">
        <div class="nav-anchor active" id="nav-home" onclick="FENG.navigate('home')">
            <i class="fas fa-home"></i><span>HOME</span>
        </div>
        <div class="nav-anchor" id="nav-sets" onclick="FENG.navigate('settings')">
            <i class="fas fa-sliders-h"></i><span>SETTINGS</span>
        </div>
    </footer>

    <script>
        const FENG = {
            // THE MASTER VAULT (BATCH 1 - 14)
            // You can easily add 100s of movies here.
            vault: [
                { id: 939243, title: "Sonic the Hedgehog 3", type: "movie", tag: "Trending", img: "https://image.tmdb.org/t/p/w500/1908.jpg" },
                { id: 299534, title: "Avengers: Doomsday", type: "movie", tag: "Trending", img: "https://image.tmdb.org/t/p/w500/or06vSqzWBFscv1qCG76uC1fsR6.jpg" },
                { id: 111112, title: "Stranger Things S5", type: "tv", tag: "Series", img: "https://image.tmdb.org/t/p/w500/689V8.jpg" },
                { id: 111110, title: "Dexter: Resurrection", type: "tv", tag: "Series", img: "https://image.tmdb.org/t/p/w500/vZloY0Cc8pPTMvS3v1wZ94Ydn94.jpg" },
                { id: 420634, title: "Scream 7", type: "movie", tag: "Movie", img: "https://image.tmdb.org/t/p/w500/fT0X.jpg" },
                { id: 111111, title: "FNAF 2", type: "movie", tag: "Movie", img: "https://image.tmdb.org/t/p/w500/78R9.jpg" },
                { id: 804616, title: "Jurassic World: Rebirth", type: "movie", tag: "Trending", img: "https://image.tmdb.org/t/p/w500/yK9I.jpg" },
                { id: 533535, title: "Deadpool & Wolverine", type: "movie", tag: "Movie", img: "https://image.tmdb.org/t/p/w500/8cdclPkS1fSgtHd96YvFhX7U93v.jpg" },
                { id: 115508, title: "The Night Agent S3", type: "tv", tag: "Series", img: "https://image.tmdb.org/t/p/w500/689V8.jpg" },
                { id: 933260, title: "The Substance", type: "movie", tag: "Movie", img: "https://image.tmdb.org/t/p/w500/78R9.jpg" }
            ],

            // Initialize App
            init: function() {
                this.renderUI();
                console.log("Feng V39.0 Engine: Online");
            },

            // High-Performance Rendering Logic
            renderUI: function(source = this.vault) {
                const trShelf = document.getElementById('shelf-trending');
                const mvGrid = document.getElementById('grid-movies');
                const tvGrid = document.getElementById('grid-series');

                // Clear current views to prevent double-loading
                trShelf.innerHTML = ''; mvGrid.innerHTML = ''; tvGrid.innerHTML = '';

                source.forEach(media => {
                    const cardHTML = `
                        <div class="media-card" onclick="FENG.startPlayback('${media.type}','${media.id}','${media.title}')">
                            <img src="${media.img}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x450?text=Reloading...'">
                            <div class="info-bar">
                                <span class="title-txt">${media.title}</span>
                                <span class="meta-txt">${media.type} â€¢ 2026</span>
                            </div>
                        </div>
                    `;

                    if(media.tag === 'Trending') trShelf.innerHTML += cardHTML;
                    if(media.type === 'movie' && media.tag !== 'Trending') mvGrid.innerHTML += cardHTML;
                    if(media.type === 'tv') tvGrid.innerHTML += cardHTML;
                });
            },

            // State-Based Navigation (Prevents Freezing)
            navigate: function(screen) {
                const hS = document.getElementById('screen-home');
                const sS = document.getElementById('screen-settings');
                const hdr = document.getElementById('ui-header');
                const navH = document.getElementById('nav-home');
                const navS = document.getElementById('nav-sets');

                // Reset all
                hS.style.display = 'none';
                sS.style.display = 'none';
                navH.classList.remove('active');
                navS.classList.remove('active');

                if(screen === 'home') {
                    hS.style.display = 'block';
                    hdr.style.display = 'block';
                    navH.classList.add('active');
                    this.renderUI(); 
                } else {
                    sS.style.display = 'flex';
                    hdr.style.display = 'none'; // Hide header in settings for more space
                    navS.classList.add('active');
                }
            },

            // Playback Engine
            startPlayback: function(type, id, title) {
                const modal = document.getElementById('screen-player');
                const frame = document.getElementById('video-frame');
                const tSlot = document.getElementById('video-title');
                
                tSlot.innerText = title;
                modal.style.display = 'flex';
                // Using Vidsrc.to for Platinum reliability
                frame.src = `https://vidsrc.to/embed/${type}/${id}`;
            },

            stopPlayback: function() {
                document.getElementById('screen-player').style.display = 'none';
                document.getElementById('video-frame').src = '';
            },

            // Search Logic
            searchEngine: function() {
                const val = document.getElementById('feng-search').value.toLowerCase();
                const filtered = this.vault.filter(item => item.title.toLowerCase().includes(val));
                this.renderUI(filtered);
            },

            toggleMode: function() {
                const html = document.documentElement;
                const isDark = html.getAttribute('data-theme') === 'dark';
                html.setAttribute('data-theme', isDark ? 'light' : 'dark');
            }
        };

        // Start App
        FENG.init();
    </script>
</body>
        </html>
